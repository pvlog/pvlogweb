{% extends "admin/adminlayout.html" %}
{% block page_title %} {{ _(Settings) }} {% endblock %}
{% block content %}
<div class="col-md-12">
	<div class="row">
		<h1 class="page-header">{{ _('Email Settings') }}</h1>
		<div class="panel panel-default">
			<div class="panel-heading">{{ _('Email Server Configuration') }}</div>
			<div class="panel-body">
				<form id="emailServerForm" data-bind="submit: save" class="form-horizontal">
					<div class="form-group" data-bind="validationElement: server">
						<label for="inputSmtpServer" class="col-sm-2 control-label">{{ _('Smtp Server') }}</label>
						<div class="col-sm-10">
							<input data-bind="value: server" type="text" class="form-control" id="inputSmtpServer"
								placeholder="Smtp Server">
						</div>
					</div>
					<div class="form-group" data-bind="validationElement: port">
						<label for="inputSmtpPort" class="col-sm-2 control-label">{{ _('Smtp Server Port') }}</label>
						<div class="col-sm-10">
							<input data-bind="value: port" type="number" class="form-control" id="inputSmtpServer"
								placeholder="Smtp Port">
						</div>
					</div>
					<div class="form-group" data-bind="validationElement: user">
						<label for="inputSmtpUser" class="col-sm-2 control-label">{{ _('User') }}</label>
						<div class="col-sm-10">
							<input data-bind="value: user" type="text" class="form-control" id="inputSmtpUser"
								placeholder="User">
						</div>
					</div>
					<div class="form-group" data-bind="validationElement: password">
						<label for="inputSmtpUser" class="col-sm-2 control-label">{{ _('Password') }}</label>
						<div class="col-sm-10">
							<input data-bind="value: password" type="password" class="form-control" id="inputPassword"
								placeholder="Password">
						</div>
					</div>
					<div class="form-group">
						<div class="col-sm-offset-2 col-sm-10">
							<button type="submit" class="btn btn-default">{{ _('Submit') }}</button>
						</div>
					</div>
				</form>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading">{{ _('Email') }}</div>
			<div class="panel-body">
				<form id="emailAddressForm" data-bind="submit: save" class="form-horizontal">
					<div class="form-group" data-bind="validationElement: email">
						<label for="emailAddress" class="col-sm-2 control-label">{{ _('Email Address') }}</label>
						<div class="col-sm-10">
							<input data-bind="value: email" type="text" class="form-control" id="emailAddress"
								placeholder="Email">
						</div>
					</div>
					<div class="form-group">
						<div class="col-sm-offset-2 col-sm-10">
							<button type="submit" class="btn btn-default">{{ _('Submit') }}</button>
						</div>
					</div>
				</form>
				
				<button id="sendTestEmailButton" type="button"
					class="btn btn-primary">{{ _('Send Test-Email') }}</button>
			</div>
		</div>
	</div>
</div>
{% endblock %}
{% block scripts %}
{{ javascript_tag('emailsettings') | safe }}
<script>
	var SCRIPT_ROOT = {{ request.script_root|tojson|safe }} + '/admin';
	var emailServer = {{ emailServer|tojson|safe }};
	var email= {{ email|tojson|safe }};
</script>
{% endblock %}